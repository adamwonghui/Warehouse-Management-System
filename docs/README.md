# 仓库管理系统使用指南

## 项目概述

本仓库管理系统是一个基于Python Flask框架开发的局域网出入库管理系统，专为小型团队和组织设计，提供简单高效的物品管理解决方案。

## 主要功能

- **物品管理**：支持物品的增删改查，分类管理，库存监控
- **用户管理**：管理员和普通用户权限分离
- **申请审批**：物品借出申请和审批流程
- **出入库记录**：完整的物品流动记录追踪
- **Excel导入导出**：支持批量数据处理
- **统计分析**：物品库存和申请情况统计

## 系统要求

- Python 3.7+
- Flask 2.0+
- SQLite (默认) 或其他支持的数据库
- 现代浏览器（Chrome, Firefox, Safari, Edge）

## 快速开始

### 1. 安装依赖

在backend目录下运行：

```bash
pip install -r requirements.txt
```

### 2. 配置环境变量

复制 `.env.example` 文件为 `.env`，并根据需要修改配置：

```
# 数据库连接信息
DATABASE_URL=sqlite:///warehouse.db

# 用于会话加密的密钥
SECRET_KEY=your-secret-key-here

# 调试模式
DEBUG=True

# 服务器配置
HOST=0.0.0.0
PORT=5001
```

### 3. 启动服务

在backend目录下运行：

```bash
./start.sh
```

或者手动启动：

```bash
python app.py
```

### 4. 访问系统

打开浏览器，访问以下地址：

- 登录页面：http://localhost:5001
- 用户名：admin
- 密码：admin123（默认管理员账户）

## 使用说明

### 管理员功能

1. **物品管理**：
   - 添加、编辑、删除物品
   - 设置物品类别和库存数量
   - 批量导入导出物品数据

2. **分类管理**：
   - 创建和管理物品分类
   - 查看各分类物品数量

3. **申请审批**：
   - 查看用户的物品申请
   - 批准或拒绝申请
   - 查看申请历史记录

4. **统计分析**：
   - 查看物品库存统计
   - 分析物品申请趋势

### 用户功能

1. **物品浏览**：
   - 查看可用物品列表
   - 按类别筛选物品

2. **申请管理**：
   - 提交物品借出申请
   - 查看申请状态
   - 归还已借出物品

## 数据导入导出

### 导出物品数据

在管理端的物品管理页面，点击「导出Excel」按钮，系统会生成并下载包含所有物品信息的Excel文件。

### 导入物品数据

在管理端的物品管理页面，点击或拖拽Excel文件到上传区域，可以批量导入物品数据。导入文件需要包含以下列：

- 名称/name：物品名称（必填）
- 类别/category：物品所属类别（必填）
- 总库存/total：物品总数量（必填）
- 当前库存/in_stock：当前可借数量（必填）
- 描述/description：物品描述（可选）

## 常见问题解答

1. **如何修改默认管理员密码？**
   - 登录系统后，可以在用户管理中修改密码。

2. **如何添加新的管理员？**
   - 目前系统仅支持一个管理员账户，后续版本将增加多管理员支持。

3. **如何修改数据库类型？**
   - 修改 `.env` 文件中的 `DATABASE_URL` 配置，支持MySQL、PostgreSQL等数据库。

4. **系统是否支持多用户同时访问？**
   - 是的，系统基于Web架构设计，支持多用户同时访问和操作。

## 系统维护

### 数据库备份

定期备份 SQLite 数据库文件（warehouse.db），该文件位于 backend 目录下。

### 日志查看

系统运行日志会输出到控制台，可根据需要配置日志文件。

## 注意事项

1. 本系统默认使用SQLite数据库，适合小型应用场景。如需更高性能，建议使用MySQL或PostgreSQL。
2. 系统默认监听所有网络接口（0.0.0.0），在生产环境中应设置为特定IP并配置安全措施。
3. 请勿在公共网络环境中暴露系统，建议仅在可信的局域网内使用。
4. 定期备份数据库以防止数据丢失。

## 技术支持

如有任何问题或建议，请联系系统管理员。

## 版本历史

- v1.0.0：初始版本，包含基本的物品管理和申请审批功能